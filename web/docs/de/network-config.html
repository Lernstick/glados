<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        <link href="./assets/1cf5ba7/css/bootstrap.css" rel="stylesheet">
<link href="./assets/be3e053e/solarized_light.css" rel="stylesheet">
<link href="./assets/1f2e89dd/style.css" rel="stylesheet">
<script src="./assets/8261f971/jquery.js"></script>
<script src="./assets/1cf5ba7/js/bootstrap.js"></script>
<script src="./assets/ae8b5077/jssearch.js"></script>    <title>Network configuration - Admin Manual - The Definitive Guide to Yii 2.0</title>
</head>
<body>

<div class="wrap">
    <nav id="w82" class="navbar-inverse navbar-fixed-top navbar"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#w82-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./index.html">The Definitive Guide to Yii 2.0</a></div><div id="w82-collapse" class="collapse navbar-collapse"><ul id="w83" class="navbar-nav nav"><li><a href="../api/index.html">Class reference</a></li>
<li><a href="./README.html">Guide</a></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-2">
                <div id="navigation" class="list-group"><a class="list-group-item" href="#navigation-80" data-toggle="collapse" data-parent="#navigation">User Manual <b class="caret"></b></a><div id="navigation-80" class="submenu panel-collapse collapse"><a class="list-group-item" href="./create-exam.html">Create an exam</a>
<a class="list-group-item" href="./remote-backup-path.html">Remote Backup Path</a>
<a class="list-group-item" href="./create-zip-exam-file.html">Create a zip-file as exam file</a>
<a class="list-group-item" href="./create-squashfs-exam-file.html">Create a squashfs-filesystem as exam file</a>
<a class="list-group-item" href="./exam-view.html">The exam view</a>
<a class="list-group-item" href="./create-single-ticket.html">Create a single ticket</a>
<a class="list-group-item" href="./create-multiple-tickets.html">Create multiple tickets</a>
<a class="list-group-item" href="./ticket-view.html">The ticket view </a>
<a class="list-group-item" href="./ticket-states.html">Ticket states</a>
<a class="list-group-item" href="./take-exam.html">Taking an Exam</a>
<a class="list-group-item" href="./generate-results.html">Generate results</a>
<a class="list-group-item" href="./correct-exams.html">Correct the exams</a>
<a class="list-group-item" href="./submit-results.html">Submit results back to the student</a>
<a class="list-group-item" href="./get-exam-result.html">Get the exam result as a student</a>
<a class="list-group-item" href="./client-crash.html">Client crashes during exam</a>
<a class="list-group-item" href="./restore-specific-file.html">Restore a specific file</a>
<a class="list-group-item" href="./example-exam-essay.html">Example exam: Essay</a></div>
<a class="list-group-item active" href="#navigation-81" data-toggle="collapse" data-parent="#navigation">Admin Manual <b class="caret"></b></a><div id="navigation-81" class="submenu panel-collapse collapse in"><a class="list-group-item" href="./manual-install.html">Manual Installation</a>
<a class="list-group-item" href="./deb-install.html">Automatic Installation</a>
<a class="list-group-item" href="./deb-update.html">Softwareupdate on Debian</a>
<a class="list-group-item" href="./deb-8to9-upgrade.html">Upgrade from Debian 8 to 9</a>
<a class="list-group-item" href="./config-files.html">Glados config files</a>
<a class="list-group-item" href="./client-config.html">Exam client configuration</a>
<a class="list-group-item active" href="./network-config.html">Network configuration</a></div></div>    </div>
    <div class="col-md-9 guide-content" role="main">
        <h2>Network configuration <span id="network-configuration"></span><a href="#network-configuration" class="hashlink">&para;</a></h2><p>There are 2 possible ways you can configure your setup. You can either configure the network in the way that the client can autodiscover the exam server, or configure the clients to access a fixed IP-address. The client setup can be found <a href="client-config.html">here</a>.</p>
<h3>Autodiscovery of the exam server <span id="autodiscovery-of-the-exam-server"></span><a href="#autodiscovery-of-the-exam-server" class="hashlink">&para;</a></h3><p>For this to work, you need to be able to discover the exam server via <a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/NetServices/Introduction.html">Bonjour</a>. Therefore DNS Service Discovery (DNS-SD) must be allowed in the network. It is necessary to strictly allow this in your network. If you use a wireless network as exam network, notice that most accesspoints will disable this by default. If your server sits in another subnet, you have to route the needed ports, according to the Bonjour standard. Bonjour clients will talk via UDP port <code>5353</code> and multicast IP-address <code>224.0.0.251</code> (IPv4), <code>ff02::fb</code> (IPv6) respectively.</p>
<p>Avahi includes several utilities which help you discover the services running on a network. For example, run</p>
<pre><code class="hljs css"><span class="hljs-tag">avahi-browse</span> <span class="hljs-tag">-r</span> <span class="hljs-tag">--no-db-lookup</span> _<span class="hljs-tag">http</span><span class="hljs-class">._tcp</span>
</code></pre>
<p>to discover services in your network. If your network and server are configured appropriately, you should discover the exam server with the above command.</p>
<h3>Exam server with fixed IP-address <span id="exam-server-with-fixed-ip-address"></span><a href="#exam-server-with-fixed-ip-address" class="hashlink">&para;</a></h3><p>This is a more secure setup. To run the exam server in a network, you have to make sure that clients can connect to the server. On the other hand, the server needs to be able to connect to the clients.</p>
<p>This is a list of services and ports that must be allowed:</p>
<table class="table table-bordered table-striped">
<thead>
<tr><th>Connection        </th><th>Service     </th><th>Port</th></tr>
</thead>
<tbody>
<tr><td>Client to Server  </td><td>http/https  </td><td><code>80</code> for http, <code>443</code> for https (by default)</td></tr>
<tr><td>Server to Client  </td><td>ssh         </td><td><code>22</code> (by default)</td></tr>
</tbody>
</table>
<p><br>
If your exam server sits in another subnet than your exam clients, make sure to disable <a href="https://en.wikipedia.org/wiki/Network_address_translation">Network address translation</a> in the configuration of the router. This is necessary because the server detects the clients IP-address (which is then used in remote backup) over the HTTP headers and/or <code>$_SERVER</code> environment variables provided by the webserver. With NAT enabled the header would contain the IP-address of the routing device instead.</p>
        <div class="toplink"><a href="#" class="h1" title="go to top"><span class="glyphicon glyphicon-arrow-up"></a></div>
    </div>
</div>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Fri, 21 Jun 2019 10:08:06 +0000</small></p>
    Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script>jQuery(function ($) {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) setTimeout(shiftWindow, 1);
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script></body>
</html>
