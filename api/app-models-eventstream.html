<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        <link href="./assets/1cf5ba7/css/bootstrap.css" rel="stylesheet">
<link href="./assets/be3e053e/solarized_light.css" rel="stylesheet">
<link href="./assets/1f2e89dd/style.css" rel="stylesheet">
<script src="./assets/8261f971/jquery.js"></script>
<script src="./assets/1cf5ba7/js/bootstrap.js"></script>
<script src="./assets/ae8b5077/jssearch.js"></script>    <title>EventStream, app\models\EventStream - Yii Framework 2.0 API Documentation</title>
</head>
<body>

<div class="wrap">
    <nav id="w187" class="navbar-inverse navbar-fixed-top navbar"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#w187-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./index.html">Yii Framework 2.0 API Documentation</a></div><div id="w187-collapse" class="collapse navbar-collapse"><ul id="w188" class="navbar-nav nav"><li><a href="./index.html">Class reference</a></li>
<li><a href="../en/README.html">Guide</a></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-3">
                <div id="navigation" class="list-group"><a class="list-group-item" href="#navigation-182" data-toggle="collapse" data-parent="#navigation">app\assets <b class="caret"></b></a><div id="navigation-182" class="submenu panel-collapse collapse"><a class="list-group-item" href="./app-assets-appasset.html">AppAsset</a>
<a class="list-group-item" href="./app-assets-eventasset.html">EventAsset</a></div>
<a class="list-group-item" href="#navigation-183" data-toggle="collapse" data-parent="#navigation">app\commands <b class="caret"></b></a><div id="navigation-183" class="submenu panel-collapse collapse"><a class="list-group-item" href="./app-commands-analyzecontroller.html">AnalyzeController</a>
<a class="list-group-item" href="./app-commands-backupcontroller.html">BackupController</a>
<a class="list-group-item" href="./app-commands-daemoncontroller.html">DaemonController</a>
<a class="list-group-item" href="./app-commands-dbcleancontroller.html">DbcleanController</a>
<a class="list-group-item" href="./app-commands-downloadcontroller.html">DownloadController</a>
<a class="list-group-item" href="./app-commands-rbaccontroller.html">RbacController</a>
<a class="list-group-item" href="./app-commands-restorecontroller.html">RestoreController</a>
<a class="list-group-item" href="./app-commands-unlockcontroller.html">UnlockController</a></div>
<a class="list-group-item" href="#navigation-184" data-toggle="collapse" data-parent="#navigation">app\components <b class="caret"></b></a><div id="navigation-184" class="submenu panel-collapse collapse"><a class="list-group-item" href="./app-components-accessrule.html">AccessRule</a>
<a class="list-group-item" href="./app-components-activeeventfield.html">ActiveEventField</a>
<a class="list-group-item" href="./app-components-activeeventfieldasset.html">ActiveEventFieldAsset</a>
<a class="list-group-item" href="./app-components-editable.html">Editable</a>
<a class="list-group-item" href="./app-components-file.html">File</a>
<a class="list-group-item" href="./app-components-outputevent.html">OutputEvent</a>
<a class="list-group-item" href="./app-components-shellcommand.html">ShellCommand</a>
<a class="list-group-item" href="./app-components-squashfs.html">Squashfs</a>
<a class="list-group-item" href="./app-components-zip.html">Zip</a></div>
<a class="list-group-item" href="#navigation-185" data-toggle="collapse" data-parent="#navigation">app\controllers <b class="caret"></b></a><div id="navigation-185" class="submenu panel-collapse collapse"><a class="list-group-item" href="./app-controllers-activitycontroller.html">ActivityController</a>
<a class="list-group-item" href="./app-controllers-backupcontroller.html">BackupController</a>
<a class="list-group-item" href="./app-controllers-configcontroller.html">ConfigController</a>
<a class="list-group-item" href="./app-controllers-daemoncontroller.html">DaemonController</a>
<a class="list-group-item" href="./app-controllers-eventcontroller.html">EventController</a>
<a class="list-group-item" href="./app-controllers-examcontroller.html">ExamController</a>
<a class="list-group-item" href="./app-controllers-howtocontroller.html">HowtoController</a>
<a class="list-group-item" href="./app-controllers-restorecontroller.html">RestoreController</a>
<a class="list-group-item" href="./app-controllers-resultcontroller.html">ResultController</a>
<a class="list-group-item" href="./app-controllers-screenshotcontroller.html">ScreenshotController</a>
<a class="list-group-item" href="./app-controllers-sitecontroller.html">SiteController</a>
<a class="list-group-item" href="./app-controllers-ticketcontroller.html">TicketController</a>
<a class="list-group-item" href="./app-controllers-usercontroller.html">UserController</a></div>
<a class="list-group-item active" href="#navigation-186" data-toggle="collapse" data-parent="#navigation">app\models <b class="caret"></b></a><div id="navigation-186" class="submenu panel-collapse collapse in"><a class="list-group-item" href="./app-models-activity.html">Activity</a>
<a class="list-group-item" href="./app-models-activityquery.html">ActivityQuery</a>
<a class="list-group-item" href="./app-models-activitysearch.html">ActivitySearch</a>
<a class="list-group-item" href="./app-models-authassignment.html">AuthAssignment</a>
<a class="list-group-item" href="./app-models-authitem.html">AuthItem</a>
<a class="list-group-item" href="./app-models-backup.html">Backup</a>
<a class="list-group-item" href="./app-models-backupsearch.html">BackupSearch</a>
<a class="list-group-item" href="./app-models-base.html">Base</a>
<a class="list-group-item" href="./app-models-config.html">Config</a>
<a class="list-group-item" href="./app-models-daemon.html">Daemon</a>
<a class="list-group-item" href="./app-models-daemoninterface.html">DaemonInterface</a>
<a class="list-group-item" href="./app-models-daemonsearch.html">DaemonSearch</a>
<a class="list-group-item" href="./app-models-eventitem.html">EventItem</a>
<a class="list-group-item active" href="./app-models-eventstream.html">EventStream</a>
<a class="list-group-item" href="./app-models-exam.html">Exam</a>
<a class="list-group-item" href="./app-models-examquery.html">ExamQuery</a>
<a class="list-group-item" href="./app-models-examsearch.html">ExamSearch</a>
<a class="list-group-item" href="./app-models-howto.html">Howto</a>
<a class="list-group-item" href="./app-models-howtosearch.html">HowtoSearch</a>
<a class="list-group-item" href="./app-models-loginform.html">LoginForm</a>
<a class="list-group-item" href="./app-models-rdifffilesystem.html">RdiffFileSystem</a>
<a class="list-group-item" href="./app-models-restore.html">Restore</a>
<a class="list-group-item" href="./app-models-restoresearch.html">RestoreSearch</a>
<a class="list-group-item" href="./app-models-result.html">Result</a>
<a class="list-group-item" href="./app-models-screenshot.html">Screenshot</a>
<a class="list-group-item" href="./app-models-screenshotsearch.html">ScreenshotSearch</a>
<a class="list-group-item" href="./app-models-stats.html">Stats</a>
<a class="list-group-item" href="./app-models-ticket.html">Ticket</a>
<a class="list-group-item" href="./app-models-ticketquery.html">TicketQuery</a>
<a class="list-group-item" href="./app-models-ticketsearch.html">TicketSearch</a>
<a class="list-group-item" href="./app-models-user.html">User</a>
<a class="list-group-item" href="./app-models-usersearch.html">UserSearch</a></div></div>    </div>
    <div class="col-md-9 api-content" role="main">
        <h1>Class app\models\EventStream</h1>
<div class="top-nav">
    <a href="index.html">All Classes</a>
            | <a href="#properties">Properties</a>
                | <a href="#methods">Methods</a>
                | <a href="#events">Events</a>
        </div>

<table class="summaryTable docClass table table-bordered">
    <colgroup>
        <col class="col-name" />
        <col class="col-value" />
    </colgroup>
            <tr><th>Inheritance</th><td><a href="app-models-eventstream.html">app\models\EventStream</a> &raquo;
<a href="app-models-eventitem.html">app\models\EventItem</a> &raquo;
yii\db\ActiveRecord</td></tr>
                                        </table>

<div class="class-description">
    <p><strong>This is the model class for event streams.</strong></p>
    
    </div>

<a id="properties"></a>

<div class="summary doc-property">
<h2>Public Properties</h2>

<p><a href="#" class="toggle">Hide inherited properties</a></p>

<table class="summary-table table table-striped table-bordered table-hover">
<colgroup>
    <col class="col-property" />
    <col class="col-type" />
    <col class="col-description" />
    <col class="col-defined" />
</colgroup>
<tr>
  <th>Property</th><th>Type</th><th>Description</th><th>Defined By</th>
</tr>
        <tr class="inherited" id="$concerns">
        <td><a href="app-models-eventitem.html#$concerns-detail">$concerns</a></td>
        <td><a href="http://www.php.net/language.types.array">array</a></td>
        <td>Array containing the users id and role names of users who should get the event.</td>
        <td><a href="app-models-eventitem.html">app\models\EventItem</a></td>
    </tr>
            <tr class="inherited" id="$debug">
        <td><a href="app-models-eventitem.html#$debug-detail">$debug</a></td>
        <td></td>
        <td></td>
        <td><a href="app-models-eventitem.html">app\models\EventItem</a></td>
    </tr>
            <tr id="$events">
        <td><a href="app-models-eventstream.html#$events-detail">$events</a></td>
        <td><a href="http://www.php.net/language.types.array">array</a></td>
        <td>Array containing all events generated by <a href="app-models-eventstream.html#onEvent()-detail">onEvent()</a>.</td>
        <td><a href="app-models-eventstream.html">app\models\EventStream</a></td>
    </tr>
            <tr class="inherited" id="$jsonData">
        <td><a href="app-models-eventitem.html#$jsonData-detail">$jsonData</a></td>
        <td></td>
        <td></td>
        <td><a href="app-models-eventitem.html">app\models\EventItem</a></td>
    </tr>
            <tr id="$maxEventsPerSecond">
        <td><a href="app-models-eventstream.html#$maxEventsPerSecond-detail">$maxEventsPerSecond</a></td>
        <td><a href="http://www.php.net/language.types.integer">integer</a></td>
        <td>Maximum number of low priority events which should be sent in one seconds.</td>
        <td><a href="app-models-eventstream.html">app\models\EventStream</a></td>
    </tr>
            <tr class="inherited" id="$oldData">
        <td><a href="app-models-eventitem.html#$oldData-detail">$oldData</a></td>
        <td></td>
        <td></td>
        <td><a href="app-models-eventitem.html">app\models\EventItem</a></td>
    </tr>
            <tr class="inherited" id="$path">
        <td><a href="app-models-eventitem.html#$path-detail">$path</a></td>
        <td></td>
        <td></td>
        <td><a href="app-models-eventitem.html">app\models\EventItem</a></td>
    </tr>
            <tr id="$pathPrefixes">
        <td><a href="app-models-eventstream.html#$pathPrefixes-detail">$pathPrefixes</a></td>
        <td></td>
        <td></td>
        <td><a href="app-models-eventstream.html">app\models\EventStream</a></td>
    </tr>
            <tr class="inherited" id="$retry">
        <td><a href="app-models-eventitem.html#$retry-detail">$retry</a></td>
        <td></td>
        <td></td>
        <td><a href="app-models-eventitem.html">app\models\EventItem</a></td>
    </tr>
            <tr id="$sentEvents">
        <td><a href="app-models-eventstream.html#$sentEvents-detail">$sentEvents</a></td>
        <td><a href="http://www.php.net/language.types.integer">integer</a></td>
        <td>Number of event sent.</td>
        <td><a href="app-models-eventstream.html">app\models\EventStream</a></td>
    </tr>
            <tr class="inherited" id="$sent_at">
        <td><a href="app-models-eventitem.html#$sent_at-detail">$sent_at</a></td>
        <td></td>
        <td></td>
        <td><a href="app-models-eventitem.html">app\models\EventItem</a></td>
    </tr>
            <tr id="$timeLimit">
        <td><a href="app-models-eventstream.html#$timeLimit-detail">$timeLimit</a></td>
        <td><a href="http://www.php.net/language.types.integer">integer</a></td>
        <td>Defines the time in seconds how long the stream should run.</td>
        <td><a href="app-models-eventstream.html">app\models\EventStream</a></td>
    </tr>
    </table>
</div>

<a id="methods"></a>

<div class="summary doc-method">
<h2>Public Methods</h2>

<p><a href="#" class="toggle">Hide inherited methods</a></p>

<table class="summary-table table table-striped table-bordered table-hover">
<colgroup>
    <col class="col-method" />
    <col class="col-description" />
    <col class="col-defined" />
</colgroup>
<tr>
  <th>Method</th><th>Description</th><th>Defined By</th>
</tr>
        <tr id="calcTimeout()">
        <td><a href="app-models-eventstream.html#calcTimeout()-detail">calcTimeout()</a></td>
        <td></td>
        <td><a href="app-models-eventstream.html">app\models\EventStream</a></td>
    </tr>
            <tr class="inherited" id="generate()">
        <td><a href="app-models-eventitem.html#generate()-detail">generate()</a></td>
        <td></td>
        <td><a href="app-models-eventitem.html">app\models\EventItem</a></td>
    </tr>
            <tr class="inherited" id="getRoles()">
        <td><a href="app-models-eventitem.html#getRoles()-detail">getRoles()</a></td>
        <td></td>
        <td><a href="app-models-eventitem.html">app\models\EventItem</a></td>
    </tr>
            <tr class="inherited" id="getUsers()">
        <td><a href="app-models-eventitem.html#getUsers()-detail">getUsers()</a></td>
        <td></td>
        <td><a href="app-models-eventitem.html">app\models\EventItem</a></td>
    </tr>
            <tr id="init()">
        <td><a href="app-models-eventstream.html#init()-detail">init()</a></td>
        <td></td>
        <td><a href="app-models-eventstream.html">app\models\EventStream</a></td>
    </tr>
            <tr id="onEvent()">
        <td><a href="app-models-eventstream.html#onEvent()-detail">onEvent()</a></td>
        <td>This function waits on all streams for an event and generates one or multiple event items.</td>
        <td><a href="app-models-eventstream.html">app\models\EventStream</a></td>
    </tr>
            <tr id="rules()">
        <td><a href="app-models-eventstream.html#rules()-detail">rules()</a></td>
        <td></td>
        <td><a href="app-models-eventstream.html">app\models\EventStream</a></td>
    </tr>
            <tr id="start()">
        <td><a href="app-models-eventstream.html#start()-detail">start()</a></td>
        <td>Sets up the stream with the time limit and the needed headers. If the stream is resumed (the
time limit was exceeded and the client browser restarted the SSE stream) the function will
determine when the previous stream stopped and raises the event <a href="app-models-eventstream.html#EVENT_STREAM_RESUMED-detail">EVENT_STREAM_RESUMED</a> and
sets <span class="broken-link">\app\models\resumeTime</span> or, if not resumed, raises the event <a href="app-models-eventstream.html#EVENT_STREAM_STARTED-detail">EVENT_STREAM_STARTED</a>.</td>
        <td><a href="app-models-eventstream.html">app\models\EventStream</a></td>
    </tr>
            <tr id="stop()">
        <td><a href="app-models-eventstream.html#stop()-detail">stop()</a></td>
        <td>Stops the event stream and raises the <a href="app-models-eventstream.html#EVENT_STREAM_STOPPED-detail">EVENT_STREAM_STOPPED</a> event. The db record is saved that
in the next invocation the stream can be resumed by the <span class="broken-link">\app\models\uuid</span>.</td>
        <td><a href="app-models-eventstream.html">app\models\EventStream</a></td>
    </tr>
            <tr id="tableName()">
        <td><a href="app-models-eventstream.html#tableName()-detail">tableName()</a></td>
        <td></td>
        <td><a href="app-models-eventstream.html">app\models\EventStream</a></td>
    </tr>
            <tr class="inherited" id="touchFile()">
        <td><a href="app-models-eventitem.html#touchFile()-detail">touchFile()</a></td>
        <td></td>
        <td><a href="app-models-eventitem.html">app\models\EventItem</a></td>
    </tr>
    </table>
</div>

<a id="events"></a>
<div class="summary doc-event">
    <h2>Events</h2>

    <p><a href="#" class="toggle">Hide inherited events</a></p>

    <table class="summary-table table table-striped table-bordered table-hover">
    <colgroup>
        <col class="col-event" />
        <col class="col-type" />
        <col class="col-description" />
        <col class="col-defined" />
    </colgroup>
    <tr>
        <th>Event</th><th>Type</th><th>Description</th><th>Defined By</th>
    </tr>
        <tr id="EVENT_STREAM_RESUMED">
        <td><a href="app-models-eventstream.html#EVENT_STREAM_RESUMED-detail">EVENT_STREAM_RESUMED</a></td>
        <td>\app\models\Event</td>
        <td>
            An event that is triggered when the stream has resumed a previous instance in <a href="app-models-eventstream.html#start()-detail">start()</a>.                    </td>
        <td><a href="app-models-eventstream.html">app\models\EventStream</a></td>
    </tr>
        <tr id="EVENT_STREAM_STARTED">
        <td><a href="app-models-eventstream.html#EVENT_STREAM_STARTED-detail">EVENT_STREAM_STARTED</a></td>
        <td>\app\models\Event</td>
        <td>
            An event that is triggered when the stream has started in <a href="app-models-eventstream.html#start()-detail">start()</a>.                    </td>
        <td><a href="app-models-eventstream.html">app\models\EventStream</a></td>
    </tr>
        <tr id="EVENT_STREAM_STOPPED">
        <td><a href="app-models-eventstream.html#EVENT_STREAM_STOPPED-detail">EVENT_STREAM_STOPPED</a></td>
        <td>\app\models\Event</td>
        <td>
            An event that is triggered when the stream has stopped in <a href="app-models-eventstream.html#stop()-detail">stop()</a>.                    </td>
        <td><a href="app-models-eventstream.html">app\models\EventStream</a></td>
    </tr>
        </table>
</div>

<a id="constants"></a>

<h2>Property Details</h2>

<div class="property-doc">

    <div class="detail-header h3" id="$events-detail">
        <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
        <a class="tool-link hash" href="app-models-eventstream.html#$events-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
        
        $events        <span class="detail-header-tag small">
            public                                                property
                    </span>
    </div>

    
    <div class="doc-description">
        <p>Array containing all events generated by <a href="app-models-eventstream.html#onEvent()-detail">onEvent()</a>. Each item is of type app\models\EventItem.</p>

            </div>

    <div class="signature"><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.array">array</a></span> <a href="app-models-eventstream.html#$events-detail">$events</a> <span style="color: #0000BB"></span><span style="color: #007700">=&nbsp;[]</span></div>


    <div class="detail-header h3" id="$maxEventsPerSecond-detail">
        <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
        <a class="tool-link hash" href="app-models-eventstream.html#$maxEventsPerSecond-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
        
        $maxEventsPerSecond        <span class="detail-header-tag small">
            public                                                property
                    </span>
    </div>

    
    <div class="doc-description">
        <p>Maximum number of low priority events which should be sent in one seconds.
Events exceeding this value, will not be sent.</p>

            </div>

    <div class="signature"><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.integer">integer</a></span> <a href="app-models-eventstream.html#$maxEventsPerSecond-detail">$maxEventsPerSecond</a> <span style="color: #0000BB"></span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span></div>


    <div class="detail-header h3" id="$pathPrefixes-detail">
        <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
        <a class="tool-link hash" href="app-models-eventstream.html#$pathPrefixes-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
        
        $pathPrefixes        <span class="detail-header-tag small">
            public                                                property
                    </span>
    </div>

    
    <div class="doc-description">
        
            </div>

    <div class="signature"><span class="signature-defs">public</span> <span class="signature-type"></span> <a href="app-models-eventstream.html#$pathPrefixes-detail">$pathPrefixes</a> <span style="color: #0000BB"></span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span></div>


    <div class="detail-header h3" id="$sentEvents-detail">
        <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
        <a class="tool-link hash" href="app-models-eventstream.html#$sentEvents-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
        
        $sentEvents        <span class="detail-header-tag small">
            public                                                property
                    </span>
    </div>

    
    <div class="doc-description">
        <p>Number of event sent.</p>

            </div>

    <div class="signature"><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.integer">integer</a></span> <a href="app-models-eventstream.html#$sentEvents-detail">$sentEvents</a> <span style="color: #0000BB"></span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span></div>


    <div class="detail-header h3" id="$timeLimit-detail">
        <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
        <a class="tool-link hash" href="app-models-eventstream.html#$timeLimit-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
        
        $timeLimit        <span class="detail-header-tag small">
            public                                                property
                    </span>
    </div>

    
    <div class="doc-description">
        <p>Defines the time in seconds how long the stream should run.</p>

            </div>

    <div class="signature"><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.integer">integer</a></span> <a href="app-models-eventstream.html#$timeLimit-detail">$timeLimit</a> <span style="color: #0000BB"></span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">120</span></div>

</div>
<h2>Method Details</h2>

<div class="method-doc">

    <div class="detail-header h3" id="calcTimeout()-detail">
        <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
        <a class="tool-link hash" href="app-models-eventstream.html#calcTimeout()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
        
        calcTimeout()
        <span class="detail-header-tag small">
            public                                    method
                    </span>
    </div>

    
    <div class="doc-description">
        <p><strong></strong></p>

        
            </div>

    <table class="detail-table table table-striped table-bordered table-hover">
        <tr><td colspan="3" class="signature"><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.float">float</a></span> <strong><a href="app-models-eventstream.html#calcTimeout()-detail">calcTimeout</a></strong> ( )</td></tr>
                                                <tr>
                  <th class="param-name-col">return</th>
                  <td class="param-type-col"><a href="http://www.php.net/language.types.float">float</a></td>
                  <td class="param-desc-col"><p>Amount of seconds which microseconds to stream from now on.</p>
</td>
                </tr>
                                    </table>

<!--	-->

    <div class="detail-header h3" id="init()-detail">
        <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
        <a class="tool-link hash" href="app-models-eventstream.html#init()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
        
        init()
        <span class="detail-header-tag small">
            public                                    method
                    </span>
    </div>

    
    <div class="doc-description">
        <p><strong></strong></p>

        
            </div>

    <table class="detail-table table table-striped table-bordered table-hover">
        <tr><td colspan="3" class="signature"><span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="app-models-eventstream.html#init()-detail">init</a></strong> ( )</td></tr>
            </table>

<!--	-->

    <div class="detail-header h3" id="onEvent()-detail">
        <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
        <a class="tool-link hash" href="app-models-eventstream.html#onEvent()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
        
        onEvent()
        <span class="detail-header-tag small">
            public                                    method
                    </span>
    </div>

    
    <div class="doc-description">
        <p><strong>This function waits on all streams for an event and generates one or multiple event items.</strong></p>

        <p>The first job of this function is to determine if there are event missing. This can happen when the
client browser restarted the event stream. This will take up to 5 seconds, depending on the connection
quality. In that time, events can occur. Also, if an event is generated at the excat time when an event
is processed, another event can occur. All events are stored in the database, which is queried for
such lost events. So, if <span class="broken-link">\app\models\_resumeTime</span> and <span class="broken-link">\app\models\_lastEvent</span> are set, we have to query the db for lost
events. If not, or the db returns no record, we continue (or start) listening on the streams.</p>
<p>The function then blocks in the call of <span class="broken-link">\app\models\stream_select()</span> until an event happend. If that's the case
the file now contains the event <span class="broken-link">\app\models\id</span> of the db record. This is done by <a href="app-models-eventitem.html#generate()-detail">app\models\EventItem::generate()</a>. The
db is queried and an <a href="app-models-eventitem.html">app\models\EventItem</a> is appended to the <a href="app-models-eventstream.html#$events-detail">$events</a> array.</p>

            </div>

    <table class="detail-table table table-striped table-bordered table-hover">
        <tr><td colspan="3" class="signature"><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.boolean">boolean</a></span> <strong><a href="app-models-eventstream.html#onEvent()-detail">onEvent</a></strong> ( )</td></tr>
                                                <tr>
                  <th class="param-name-col">return</th>
                  <td class="param-type-col"><a href="http://www.php.net/language.types.boolean">boolean</a></td>
                  <td class="param-desc-col"><p>True means there was an event during a watch, false means the timeout was exceeded without
an event. This is usually the end of the stream.</p>
</td>
                </tr>
                                    </table>

<!--	-->

    <div class="detail-header h3" id="rules()-detail">
        <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
        <a class="tool-link hash" href="app-models-eventstream.html#rules()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
        
        rules()
        <span class="detail-header-tag small">
            public                                    method
                    </span>
    </div>

    
    <div class="doc-description">
        <p><strong></strong></p>

        
            </div>

    <table class="detail-table table table-striped table-bordered table-hover">
        <tr><td colspan="3" class="signature"><span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="app-models-eventstream.html#rules()-detail">rules</a></strong> ( )</td></tr>
            </table>

<!--	-->

    <div class="detail-header h3" id="start()-detail">
        <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
        <a class="tool-link hash" href="app-models-eventstream.html#start()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
        
        start()
        <span class="detail-header-tag small">
            public                                    method
                    </span>
    </div>

    
    <div class="doc-description">
        <p><strong>Sets up the stream with the time limit and the needed headers. If the stream is resumed (the
time limit was exceeded and the client browser restarted the SSE stream) the function will
determine when the previous stream stopped and raises the event <a href="app-models-eventstream.html#EVENT_STREAM_RESUMED-detail">EVENT_STREAM_RESUMED</a> and
sets <span class="broken-link">\app\models\resumeTime</span> or, if not resumed, raises the event <a href="app-models-eventstream.html#EVENT_STREAM_STARTED-detail">EVENT_STREAM_STARTED</a>.</strong></p>

        
            </div>

    <table class="detail-table table table-striped table-bordered table-hover">
        <tr><td colspan="3" class="signature"><span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="app-models-eventstream.html#start()-detail">start</a></strong> ( )</td></tr>
            </table>

<!--	-->

    <div class="detail-header h3" id="stop()-detail">
        <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
        <a class="tool-link hash" href="app-models-eventstream.html#stop()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
        
        stop()
        <span class="detail-header-tag small">
            public                                    method
                    </span>
    </div>

    
    <div class="doc-description">
        <p><strong>Stops the event stream and raises the <a href="app-models-eventstream.html#EVENT_STREAM_STOPPED-detail">EVENT_STREAM_STOPPED</a> event. The db record is saved that
in the next invocation the stream can be resumed by the <span class="broken-link">\app\models\uuid</span>.</strong></p>

        
            </div>

    <table class="detail-table table table-striped table-bordered table-hover">
        <tr><td colspan="3" class="signature"><span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="app-models-eventstream.html#stop()-detail">stop</a></strong> ( )</td></tr>
            </table>

<!--	-->

    <div class="detail-header h3" id="tableName()-detail">
        <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
        <a class="tool-link hash" href="app-models-eventstream.html#tableName()-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
        
        tableName()
        <span class="detail-header-tag small">
            public                        static            method
                    </span>
    </div>

    
    <div class="doc-description">
        <p><strong></strong></p>

        
            </div>

    <table class="detail-table table table-striped table-bordered table-hover">
        <tr><td colspan="3" class="signature"><span class="signature-defs">public static</span> <span class="signature-type">void</span> <strong><a href="app-models-eventstream.html#tableName()-detail">tableName</a></strong> ( )</td></tr>
            </table>

<!--	-->
</div>
    <h2>Event Details</h2>

<div class="event-doc">
    <div class="detail-header h3" id="EVENT_STREAM_RESUMED-detail">
        <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
        <a class="tool-link hash" href="app-models-eventstream.html#EVENT_STREAM_RESUMED-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
        
        EVENT_STREAM_RESUMED        <span class="detail-header-tag small">
        event
        of type \app\models\Event                </span>
    </div>

    
    <div class="doc-description">
        <p>An event that is triggered when the stream has resumed a previous instance in <a href="app-models-eventstream.html#start()-detail">start()</a>.</p>

            </div>

    <div class="detail-header h3" id="EVENT_STREAM_STARTED-detail">
        <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
        <a class="tool-link hash" href="app-models-eventstream.html#EVENT_STREAM_STARTED-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
        
        EVENT_STREAM_STARTED        <span class="detail-header-tag small">
        event
        of type \app\models\Event                </span>
    </div>

    
    <div class="doc-description">
        <p>An event that is triggered when the stream has started in <a href="app-models-eventstream.html#start()-detail">start()</a>.</p>

            </div>

    <div class="detail-header h3" id="EVENT_STREAM_STOPPED-detail">
        <a href="#" class="tool-link" title="go to top"><span class="glyphicon glyphicon-arrow-up"></span></a>
        <a class="tool-link hash" href="app-models-eventstream.html#EVENT_STREAM_STOPPED-detail" title="direct link to this method"><span class="glyphicon icon-hash"></span></a>
        
        EVENT_STREAM_STOPPED        <span class="detail-header-tag small">
        event
        of type \app\models\Event                </span>
    </div>

    
    <div class="doc-description">
        <p>An event that is triggered when the stream has stopped in <a href="app-models-eventstream.html#stop()-detail">stop()</a>.</p>

            </div>

</div>
    </div>
</div>

<script type="text/javascript">
    /*<![CDATA[*/
    $("a.toggle").on('click', function () {
        var $this = $(this);
        if ($this.hasClass('properties-hidden')) {
            $this.text($this.text().replace(/Show/,'Hide'));
            $this.parents(".summary").find(".inherited").show();
            $this.removeClass('properties-hidden');
        } else {
            $this.text($this.text().replace(/Hide/,'Show'));
            $this.parents(".summary").find(".inherited").hide();
            $this.addClass('properties-hidden');
        }

        return false;
    });
    /*
     $(".sourceCode a.show").toggle(function () {
     $(this).text($(this).text().replace(/show/,'hide'));
     $(this).parents(".sourceCode").find("div.code").show();
     },function () {
     $(this).text($(this).text().replace(/hide/,'show'));
     $(this).parents(".sourceCode").find("div.code").hide();
     });
     $("a.sourceLink").click(function () {
     $(this).attr('target','_blank');
     });
     */
    /*]]>*/
</script>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Fri, 21 Jun 2019 12:10:02 +0000</small></p>
    Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script>jQuery(function ($) {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) setTimeout(shiftWindow, 1);
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script></body>
</html>
